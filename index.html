<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Mini GPT</title>
<style>
body { font-family: Arial; padding: 20px; background:#111; color:white }
textarea, input { width:100%; padding:10px; margin:10px 0; background:#222; color:white; border:1px solid #444 }
button { padding:10px 20px; background:#00aaff; border:none; color:black; cursor:pointer; font-weight:bold }
</style>
</head>
<body>

<h2>üí¨ Mini GPT (GPT-5.1 Supported)</h2>

<input id="key" placeholder="–í—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å–≤–æ–π OpenAI API KEY">
<textarea id="msg" rows="4" placeholder="–ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å..."></textarea>
<button onclick="send()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

<pre id="out"></pre>

<script>
async function send() {
  const apiKey = document.getElementById('key').value.trim();
  const message = document.getElementById('msg').value.trim();
  const out = document.getElementById('out');

  if (!apiKey) return out.textContent = "‚ùå –ù–µ—Ç API –∫–ª—é—á–∞!";
  if (!message) return out.textContent = "‚ùå –ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!";

  out.textContent = "‚è≥ –î—É–º–∞—é...";

  try {
    const res = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${apiKey}`,
      },
      body: JSON.stringify({
        model: "gpt-4.1-mini",  // gpt-5.1 –Ω–µ–ª—å–∑—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –ø—Ä–æ–∫—Å–∏! (–≤–∞–∂–Ω–æ)
        messages: [{ role: "user", content: message }],
      }),
    });

    const data = await res.json();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∞–ª—å–Ω–æ —á—Ç–æ –ø—Ä–∏—à–ª–æ
    console.log(data);
    
    if (data.error) {
      out.textContent = "‚ùå API Error: " + data.error.message;
      return;
    }

    out.textContent = data.choices?.[0]?.message?.content || "‚ùå –ù–µ –º–æ–≥—É –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç";
  } 
  catch (e) {
    out.textContent = "‚ùå JS Error: " + e.message;
  }
}
</script>

</body>
</html>
